<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.Pane?>

<AnchorPane prefHeight="800.0" prefWidth="1250.0" stylesheets="@Payment.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.ceylonteapay.controller.PaymentController">

    <!-- ================= TITLE ================= -->
    <Label layoutX="480" layoutY="25" styleClass="page-title" text="Monthly Salary Payment" />

    <!-- ================= FORM SECTION ================= -->
    <Pane layoutX="300" layoutY="90" prefHeight="320" prefWidth="650" styleClass="form-pane">
        <padding>
            <Insets left="30" right="30" top="20" />
        </padding>

        <children>
            <!-- Employee -->
            <Label text="Employee" />
            <ComboBox fx:id="cmbEmployee" layoutY="25" prefWidth="260" styleClass="combo-box" />

            <!-- Month -->
            <Label layoutX="330" text="Month" />
            <ComboBox fx:id="monthCombo" layoutX="330" layoutY="25" prefWidth="200" styleClass="combo-box" />

            <!-- Calculate -->
            <Button layoutY="80" onAction="#calculateSalary" prefWidth="200" styleClass="action-button" text="Calculate Salary" />

            <!-- Tea Rate -->
            <Button layoutX="330" layoutY="80" onAction="#openTeaRateWindow" prefWidth="200" styleClass="action-button" text="Manage Tea Rate" />

            <Label layoutX="330" layoutY="130" text="Tea Rate :" />
            <Label fx:id="lblTeaRate" layoutX="400" layoutY="130" styleClass="salary-highlight" text="0" />

            <ComboBox fx:id="cmbTeaRate" layoutX="330" layoutY="155" prefWidth="200" styleClass="combo-box" />

            <!-- Salaries -->
            <Label layoutY="150" text="Tea Salary" />
            <TextField fx:id="txtTeaSalary" layoutY="175" prefWidth="200" styleClass="text-field" />

            <Label layoutY="215" text="Other Work Salary" />
            <TextField fx:id="txtOtherSalary" layoutY="240" prefWidth="200" styleClass="text-field" />

            <Label layoutX="330" layoutY="215" text="Final Salary" />
            <TextField fx:id="txtFinalSalary" layoutX="330" layoutY="240" prefWidth="200" styleClass="salary-highlight" />

        </children>
    </Pane>

    <!-- ================= ACTION BUTTONS ================= -->
    <Pane layoutX="300" layoutY="430" prefHeight="90" prefWidth="650" styleClass="button-pane">
        <children>

            <Button layoutX="20" layoutY="20" onAction="#savePayment" prefWidth="120" styleClass="action-button" text="Save Payment" />

            <Button layoutX="160" layoutY="20" onAction="#updatePayment" prefWidth="130" styleClass="action-button" text="Update Payment" />

            <Button layoutX="320" layoutY="20" onAction="#deletePayment" prefWidth="130" styleClass="action-button" text="Delete Payment" />

            <Button layoutX="480" layoutY="20" onAction="#resetAll" prefWidth="120" styleClass="action-button" text="Reset All" />

        </children>
    </Pane>

    <!-- ================= TABLE ================= -->
    <TableView fx:id="tableView" layoutX="-1.0" layoutY="540" prefHeight="259.0" prefWidth="1250.0" styleClass="app-table">

        <columns>
            <TableColumn fx:id="col_id" prefWidth="100" text="Payment ID" />
            <TableColumn fx:id="col_rateId" prefWidth="90" text="Rate ID" />
            <TableColumn fx:id="col_empId" prefWidth="120" text="Employee ID" />
            <TableColumn fx:id="col_empName" prefWidth="250" text="Employee Name" />
            <TableColumn fx:id="col_teaSalary" prefWidth="180" text="Tea Salary" />
            <TableColumn fx:id="col_otherSalary" prefWidth="180" text="Other Salary" />
            <TableColumn fx:id="col_finalSalary" prefWidth="130" text="Final Salary" />
            <TableColumn fx:id="col_paymentDate" prefWidth="192.0" text="Payment Date" />
        </columns>

    </TableView>

</AnchorPane>
